# Language setting
language: node_js
# Version number
node_js:
  - 0.10.25
#  - 0.11
 
# The path for Xunit to output test reports
env:
  - XUNIT_FILE=shippable/testresults/result.xml
  - Foo=bar
  - secure: oA4LNEK7w5m6dS/BdFxTQnJfM7JnON4W1Y93j1TTK2BUfxDrPu7OxVyveCFZsh5YPu3QOX5YMbsOnFfesRO01icobKqAtUtksPJ3JyjXZhRwdRm+PirHIqnbCX3WL+3NTr4ysPtE46IgtnVkejDp2BFPR7S7XjmE7TtKom7tVV84JBU3N5U+/fUGt/EN5F3hca4H5Mm5fFDCmZxQAvx8xqZYasKtNUu+mfcRgTXTCk+swjq1xA62Jdp1VuDLFYWNPT6trOYW+mxqVdUxOWeaHU1VoRMjMsSzQYIfdXhq9udoBpXTZ6fJ2ft8780Tes2vJDliGySVsfa28obg57H5kQ==


# Create directories for test and coverage reports
before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage


archive: true

addons:
   hosts:
    - google.com
    - asdf.com  
addons:
   firefox: "29.0"

# Running the tests with grunt
script:
  - grunt

# Tell istanbul to generate a coverage report
after_script:
  - ./node_modules/.bin/istanbul cover grunt -- -u tdd
  - ./node_modules/.bin/istanbul report cobertura --dir  shippable/codecoverage/
  - echo $aa and $cc and $Foo
 
#cache: true  
branches:
  except:
    - test-master   
